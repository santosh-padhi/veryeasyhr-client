{"version":3,"sources":["../node_modules/@mui/icons-material/RemoveRedEye.js","views/attedance/viewAttendance.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_createSvgIcon","_jsxRuntime","_default","jsx","d","ViewAttendance","dispatch","useDispatch","React","page","setPage","useSelector","state","getAttendence","error","attend","Date","date","setdate","showsetails","setshowdetails","myAttendence","getMonth","getFullYear","console","log","clearErrors","name","search","filter","parentCallback2","variant","component","Paper","sx","minWidth","align","employeesAttendance","map","row","index","count","pl","cl","sl","ph","pw","pwo","lp","lwp","ot","x","employeeAttendance","length","getDate","overtime","attendance","leave","border","scope","UAN","fullName","mobileNo","formatDate","joiningDate","onClick","to","employee","target","Math","floor","color","style","float","onChange","event"],"mappings":"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","file":"static/js/19.7e81b1bf.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\n}), 'RemoveRedEye');\n\nexports.default = _default;","import * as React from 'react';\n// material ui import\nimport { Typography } from '@mui/material';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport AttendanceTopbar from 'ui-component/attendence-topbar';\nimport { StyledContainer, StyledMainCard, StyledTable, StyledTableCell, StyledTableRow } from 'ui-component/tables/tablestyle';\nimport Pagination from '@mui/material/Pagination';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { clearErrors } from 'store/actions/userActions';\nimport { myAttendence } from 'store/actions/attendenceAction';\nimport formatDate from 'utils/date-format';\nimport { Link } from 'react-router-dom';\nimport RemoveRedEyeIcon from '@mui/icons-material/RemoveRedEye';\n\n// ==============================|| VIEW ATTENDENCE PAGE ||============================== //\n\nconst ViewAttendance = () => {\n    const dispatch = useDispatch();\n    const [page, setPage] = React.useState(1);\n    const { error, attend } = useSelector((state) => state.getAttendence);\n    const [date, setdate] = React.useState(new Date());\n    const [showsetails, setshowdetails] = React.useState(true);\n\n    React.useEffect(() => {\n        dispatch(myAttendence(page, date.getMonth(), date.getFullYear()));\n        if (error) {\n            console.log(error);\n            dispatch(clearErrors());\n        }\n    }, [dispatch, page, date]);\n    const handleChange = (event, value) => {\n        setPage(value);\n    };\n    const handleDate = (date) => {\n        setdate(date);\n    };\n\n    console.log(attend);\n    return (\n        <StyledMainCard>\n            <AttendanceTopbar name=\"View Attendance\" search=\"true\" date=\"true\" filter=\"true\" parentCallback2={handleDate} />\n            <Typography variant=\"body2\">\n                <StyledContainer component={Paper}>\n                    <StyledTable sx={{ minWidth: 650 }} aria-label=\"customized table\">\n                        <TableHead>\n                            <TableRow>\n                                <StyledTableCell align=\"center\">Sr No.</StyledTableCell>\n\n                                {showsetails === true && <StyledTableCell align=\"center\">UAN No.</StyledTableCell>}\n                                <StyledTableCell align=\"center\">Full Name</StyledTableCell>\n                                <StyledTableCell align=\"center\">Mobile No</StyledTableCell>\n                                {showsetails === false && <StyledTableCell align=\"center\">Paid Leave</StyledTableCell>}\n                                {showsetails === false && <StyledTableCell align=\"center\">Casual Leave</StyledTableCell>}\n                                {showsetails === false && <StyledTableCell align=\"center\">Sick Leave</StyledTableCell>}\n                                {showsetails === false && <StyledTableCell align=\"center\">Paid Holiday</StyledTableCell>}\n                                {showsetails === false && <StyledTableCell align=\"center\">Paid Weekly Off</StyledTableCell>}\n                                {showsetails === false && <StyledTableCell align=\"center\">Unpaid Weekly Off</StyledTableCell>}\n                                {showsetails === false && <StyledTableCell align=\"center\">Leave with permission</StyledTableCell>}\n                                {showsetails === false && <StyledTableCell align=\"center\">Leave without permission</StyledTableCell>}\n                                {showsetails === true && <StyledTableCell align=\"center\">Joining Date</StyledTableCell>}\n                                <StyledTableCell align=\"center\">Working Days</StyledTableCell>\n                                {showsetails === true && <StyledTableCell align=\"center\">Over Time (hr)</StyledTableCell>}\n                                <StyledTableCell align=\"center\">View Attendance</StyledTableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {attend?.employeesAttendance?.map((row, index) => {\n                                let count = 0;\n                                let pl = 0;\n                                let cl = 0;\n                                let sl = 0;\n                                let ph = 0;\n                                let pw = 0;\n                                let pwo = 0;\n                                let lp = 0;\n                                let lwp = 0;\n                                let ot = 0;\n                                for (let x = 0; x < row?.employeeAttendance?.length; x += 1) {\n                                    if (row?.employeeAttendance[x]?.date === date.getDate()) {\n                                        ot = row?.employeeAttendance[x]?.overtime;\n                                    }\n                                    if (row?.employeeAttendance[x]?.attendance === true) {\n                                        count += 1;\n                                        console.log('y');\n                                    } else {\n                                        switch (row?.employeeAttendance[x]?.leave) {\n                                            case 'Paid Leave':\n                                                pl += 1;\n                                                break;\n                                            case 'Casual Leave':\n                                                cl += 1;\n                                                break;\n                                            case 'Sick Leave':\n                                                sl += 1;\n                                                break;\n                                            case 'Paid Holiday':\n                                                ph += 1;\n                                                break;\n                                            case 'Paid Weekly Off':\n                                                pw += 1;\n                                                break;\n                                            case 'Unpaid Weekly Off':\n                                                pwo += 1;\n                                                break;\n                                            case 'Leave with Permission':\n                                                lp += 1;\n                                                break;\n                                            case 'Leave without Permission':\n                                                lwp += 1;\n                                                break;\n                                            default:\n                                                break;\n                                        }\n                                    }\n                                }\n                                return (\n                                    <StyledTableRow\n                                        key={(page - 1) * 10 + index + 1}\n                                        sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                                    >\n                                        <TableCell align=\"center\" component=\"th\" scope=\"row\">\n                                            {(page - 1) * 10 + index + 1}\n                                        </TableCell>\n                                        {showsetails === true && <TableCell align=\"center\">{row?.UAN}</TableCell>}\n                                        <TableCell align=\"center\">{row?.fullName}</TableCell>\n                                        <TableCell align=\"center\">{row?.mobileNo}</TableCell>\n                                        {showsetails === false && <TableCell align=\"center\">{pl}</TableCell>}\n                                        {showsetails === false && <TableCell align=\"center\">{cl}</TableCell>}\n                                        {showsetails === false && <TableCell align=\"center\">{sl}</TableCell>}\n                                        {showsetails === false && <TableCell align=\"center\">{ph}</TableCell>}\n                                        {showsetails === false && <TableCell align=\"center\">{pw}</TableCell>}\n                                        {showsetails === false && <TableCell align=\"center\">{pwo}</TableCell>}\n                                        {showsetails === false && <TableCell align=\"center\">{lp}</TableCell>}\n                                        {showsetails === false && <TableCell align=\"center\">{lwp}</TableCell>}\n                                        {showsetails === true && <TableCell align=\"center\">{formatDate(row?.joiningDate)}</TableCell>}\n                                        <TableCell\n                                            align=\"center\"\n                                            onClick={() => {\n                                                setshowdetails(!showsetails);\n                                            }}\n                                        >\n                                            {count}\n                                        </TableCell>\n                                        {showsetails === true && <TableCell align=\"center\">{ot}</TableCell>}\n\n                                        <TableCell align=\"center\">\n                                            <Link to={`/attendance/event/${row.employee}`} target=\"_blank\">\n                                                <RemoveRedEyeIcon />\n                                            </Link>\n                                        </TableCell>\n                                    </StyledTableRow>\n                                );\n                            })}\n                        </TableBody>\n                    </StyledTable>\n                    <Pagination\n                        count={Math.floor(attend?.length / 10) + 1}\n                        color=\"primary\"\n                        style={{ float: 'right' }}\n                        page={page}\n                        onChange={handleChange}\n                    />\n                </StyledContainer>\n            </Typography>\n        </StyledMainCard>\n    );\n};\nexport default ViewAttendance;\n"],"sourceRoot":""}