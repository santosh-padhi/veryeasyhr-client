(this["webpackJsonpeasy-hr"]=this["webpackJsonpeasy-hr"]||[]).push([[2],{304:function(e,a,t){"use strict";function n(e){var a=new Date(e),t=(a.getMonth()+1).toString(),n=a.getDate().toString();return[a.getFullYear(),t,n].join("-")}t.d(a,"a",(function(){return n}))},305:function(e,a,t){"use strict";t.d(a,"a",(function(){return d})),t.d(a,"d",(function(){return s})),t.d(a,"b",(function(){return u})),t.d(a,"c",(function(){return p}));var n=t(20),o=t.n(n),l=t(30),i=t(27),r=t.n(i),c=t(41);r.a.defaults.withCredentials=!0;var d=function(e){return function(){var a=Object(l.a)(o.a.mark((function a(t){var n,l,i,d;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:c.b}),n={headers:{"Content-Type":"application/json",withCredentials:!0}},console.log(e),l={personalDetails:{fullName:e.fullName,fatherName:e.fatherName,mobileNo:e.mobileNo,gender:e.gender,dob:e.date,currentAddress:e.currentAddress,permanentAddress:e.permanentAddress},companyDetails:{UAN:e.uanNumber,aadhaarNo:e.aadhaarNumber,panNo:e.panNumber,drivingLicense:e.drivingLicenses,designation:e.designation,joiningDate:e.joiningDate,selectWages:e.selectWages,sickLeave:e.sickLeave,casualLeave:e.casualLeave},salaryDetails:{dailyWages:e.dailyWages,basicSalary:e.basicSalary,hra:e.hra,con:e.con,medical:e.medical,education:e.education,canteen:e.canteen,incomeTax:e.incomeTax},bankDetails:{bankName:e.bankName,ifscCode:e.bankIfsc,accountNo:e.accountNo,PFNominee:e.pfNominee,gratuityNominee:e.gratuityNominee,leaveNominee:e.leaveNominee}},a.next=7,r.a.post("/api/v1/employees/new",l,n);case 7:i=a.sent,d=i.data,t({type:c.c,payload:d.user}),t({type:c.b}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),t({type:c.a,payload:a.t0});case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()},s=function(e){return function(){var a=Object(l.a)(o.a.mark((function a(t){var n,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:c.j}),a.next=4,r.a.get("/api/v1/employees/mylist?page=".concat(e),{withCredentials:!0});case 4:n=a.sent,l=n.data,console.log(l),t({type:c.k,payload:l}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),t({type:c.i,payload:a.t0.response});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},u=function(e){return function(){var a=Object(l.a)(o.a.mark((function a(t){var n,l,i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:c.e}),n={headers:{"Content-Type":"application/json",withCredentials:!0}},a.next=5,r.a.post("/api/v1/admin/register",e,n);case 5:l=a.sent,i=l.data,t({type:c.g,payload:i}),t({type:c.e}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t({type:c.d,payload:a.t0});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},p=function(){return function(){var e=Object(l.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:c.h});case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}},312:function(e,a,t){"use strict";t.d(a,"f",(function(){return y})),t.d(a,"a",(function(){return h})),t.d(a,"d",(function(){return m})),t.d(a,"b",(function(){return O})),t.d(a,"c",(function(){return f})),t.d(a,"e",(function(){return g}));var n,o,l,i,r,c,d=t(46),s=t(602),u=t(603),p=t(601),b=t(600),v=t(566),j=t(122),y=(t(277),t(519),t(60),t(114),t(40),t(1),Object(v.a)(b.a)(n||(n=Object(d.a)(["\n    background-color: white;\n"])))),h=Object(v.a)(p.a)(o||(o=Object(d.a)(["\n    background-color: #f2f2fc;\n    border-spacing: 30px;\n    border-collapse: separate;\n"]))),m=Object(v.a)(s.a)(l||(l=Object(d.a)(["\n    border-spacing: 0px 15px;\n    border-collapse: separate;\n"]))),O=Object(v.a)(j.a)(i||(i=Object(d.a)(["\n    background-color: #f2f2fc;\n"]))),f=Object(v.a)(j.a)(r||(r=Object(d.a)(["\n    position: relative;\n    background-color: #f2f2fc;\n"]))),g=Object(v.a)(u.a)(c||(c=Object(d.a)(["\n    color: black;\n    font-weight: 1000;\n    border: none;\n    font-size: 1.2em;\n"])))},316:function(e,a,t){"use strict";t.d(a,"a",(function(){return ee}));var n=t(5),o=t(15),l=t(0),i=t.n(l),r=t(602),c=t(604),d=t(600),s=t(283),u=t(8),p=t(9),b=t(28),v=t(271),j=t(591),y=t(279),h=t(599),m=t(231),O=t(83),f=t(162),g=t(277),x=t(434),k=t.n(x),D=t(139),N=t(21),S=t(119),C=t(1),w=Object(p.a)(v.a,{shouldForwardProp:S.b})((function(e){var a=e.theme;return Object(u.a)({zIndex:1100,width:"99%",top:"-55px !important",padding:"0 12px"},a.breakpoints.down("sm"),{padding:"0 10px"})})),A=Object(p.a)(j.a,{shouldForwardProp:S.b})((function(e){var a,t=e.theme;return a={width:434,marginLeft:16,paddingLeft:16,paddingRight:16,"& input":{background:"transparent !important",paddingLeft:"4px !important"}},Object(u.a)(a,t.breakpoints.down("lg"),{width:250}),Object(u.a)(a,t.breakpoints.down("md"),{width:"100%",marginLeft:4,background:"#fff"}),a})),E=Object(p.a)(y.a,{shouldForwardProp:S.b})((function(e){var a=e.theme;return Object(n.a)(Object(n.a)(Object(n.a)({},a.typography.commonAvatar),a.typography.mediumAvatar),{},{background:a.palette.secondary.light,color:a.palette.secondary.dark,"&:hover":{background:a.palette.secondary.dark,color:a.palette.secondary.light}})})),F=function(e){var a=e.value,t=e.setValue,o=e.popupState,l=Object(b.a)();return Object(C.jsx)(A,{id:"input-search-header",value:a,onChange:function(e){return t(e.target.value)},placeholder:"Search",startAdornment:Object(C.jsx)(h.a,{position:"start",children:Object(C.jsx)(N.o,{stroke:1.5,size:"1rem",color:l.palette.grey[500]})}),endAdornment:Object(C.jsxs)(h.a,{position:"end",children:[Object(C.jsx)(m.a,{sx:{borderRadius:"12px"},children:Object(C.jsx)(E,{variant:"rounded",children:Object(C.jsx)(N.a,{stroke:1.5,size:"1.3rem"})})}),Object(C.jsx)(O.a,{sx:{ml:2},children:Object(C.jsx)(m.a,{sx:{borderRadius:"12px"},children:Object(C.jsx)(y.a,Object(n.a)(Object(n.a)({variant:"rounded",sx:Object(n.a)(Object(n.a)(Object(n.a)({},l.typography.commonAvatar),l.typography.mediumAvatar),{},{background:l.palette.orange.light,color:l.palette.orange.dark,"&:hover":{background:l.palette.orange.dark,color:l.palette.orange.light}})},Object(x.bindToggle)(o)),{},{children:Object(C.jsx)(N.r,{stroke:1.5,size:"1.3rem"})}))})})]}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"}})},P=function(){var e=Object(b.a)(),a=Object(l.useState)(""),t=Object(o.a)(a,2),i=t[0],r=t[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(O.a,{sx:{display:{xs:"block",md:"none"}},children:Object(C.jsx)(k.a,{variant:"popper",popupId:"demo-popup-popper",children:function(a){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(O.a,{sx:{ml:2},children:Object(C.jsx)(m.a,{sx:{borderRadius:"12px"},children:Object(C.jsx)(E,Object(n.a)(Object(n.a)({variant:"rounded"},Object(x.bindToggle)(a)),{},{children:Object(C.jsx)(N.o,{stroke:1.5,size:"1.2rem"})}))})}),Object(C.jsx)(w,Object(n.a)(Object(n.a)({},Object(x.bindPopper)(a)),{},{transition:!0,children:function(t){var o=t.TransitionProps;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(D.a,Object(n.a)(Object(n.a)({type:"zoom"},o),{},{sx:{transformOrigin:"center left"},children:Object(C.jsx)(f.a,{sx:Object(u.a)({background:"#fff"},e.breakpoints.down("sm"),{border:0,boxShadow:"none"}),children:Object(C.jsx)(O.a,{sx:{p:2},children:Object(C.jsx)(g.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:Object(C.jsx)(g.a,{item:!0,xs:!0,children:Object(C.jsx)(F,{value:i,setValue:r,popupState:a})})})})})}))})}}))]})}})}),Object(C.jsx)(O.a,{sx:{display:{xs:"none",md:"block"}},children:Object(C.jsx)(A,{id:"input-search-header",value:i,onChange:function(e){return r(e.target.value)},placeholder:"Search",startAdornment:Object(C.jsx)(h.a,{position:"start",children:Object(C.jsx)(N.o,{stroke:1.5,size:"1rem",color:e.palette.grey[500]})}),endAdornment:Object(C.jsx)(h.a,{position:"end",children:Object(C.jsx)(m.a,{sx:{borderRadius:"12px"},children:Object(C.jsx)(E,{variant:"rounded",children:Object(C.jsx)(N.a,{stroke:1.5,size:"1.3rem"})})})}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"}})})]})},M=t(312),W=t(586),L=t(577),I=t(567),R=t(576),U=(t(442),t(445)),z=t.n(U),T=t(443),Y=t(26),V=t(305),G=t(27),B=t.n(G);function J(e){var a=Object(l.useState)([]),t=Object(o.a)(a,2),n=t[0],r=t[1],c=Object(l.useState)(""),d=Object(o.a)(c,2),s=d[0],u=d[1],p=i.a.useState([]),b=Object(o.a)(p,2),v=b[0],j=b[1],y=Object(Y.c)((function(e){return e.myEmployee})),h=(y.error,y.orders),m=e.page,O=e.tempdate,f=Object(Y.b)(),g=new Date(O);i.a.useEffect((function(){B.a.get("http://localhost:4000/api/v1/employee/attendance/mylist/".concat(g.getMonth()+1,"/").concat(g.getFullYear(),"?limit=",9999999999),{withCredentials:!0}).then((function(e){j(e.data.employeesAttendance),console.log(e)})).catch((function(e){console.error(e)}))}),[O,m]);var x=function(e){for(var a=0,t=0,n=0;n<v.length;n+=1){var o;if((null===(o=v[n])||void 0===o?void 0:o.employee)===e){for(var l=0;l<(null===(i=v[n])||void 0===i||null===(r=i.employeeAttendance)||void 0===r?void 0:r.length);l+=1){var i,r,c,d,s,u,p,b,j,y,h,m,O,f,g,x,k,D;if(!0!==(null===(c=v[n])||void 0===c||null===(d=c.employeeAttendance[l])||void 0===d?void 0:d.attendance)&&"Casual Leave"!==(null===(s=v[n])||void 0===s||null===(u=s.employeeAttendance[l])||void 0===u?void 0:u.leave)&&"Sick Leave"!==(null===(p=v[n])||void 0===p||null===(b=p.employeeAttendance[l])||void 0===b?void 0:b.leave)&&"Paid Leave"!==(null===(j=v[n])||void 0===j||null===(y=j.employeeAttendance[l])||void 0===y?void 0:y.leave)&&"Paid Holiday"!==(null===(h=v[n])||void 0===h||null===(m=h.employeeAttendance[l])||void 0===m?void 0:m.leave)&&"Paid Weekly Off"!==(null===(O=v[n])||void 0===O||null===(f=O.employeeAttendance[l])||void 0===f?void 0:f.leave)||(a+=1),null===(g=v[n])||void 0===g||null===(x=g.employeeAttendance[l])||void 0===x?void 0:x.overtime)t+=null===(k=v[n])||void 0===k||null===(D=k.employeeAttendance[l])||void 0===D?void 0:D.overtime}return{count:a,ot:t}}}return 0};return Object(l.useEffect)((function(){f(Object(V.d)(m))}),[m]),console.log(g),Object(l.useEffect)((function(){var e,a,t={},n=[],o="";if(h){for(var l=parseInt((e=g.getMonth()+1,a=g.getFullYear(),new Date(a,e,0).getDate()),10),i=0;i<(null===h||void 0===h||null===(c=h.employees)||void 0===c?void 0:c.length);i+=1){var c,d,s,p,b,v,j,y,m,O,f,k,D,N,S,C,w,A,E,F,P,M,W,L,I,R,U,z,T,Y,V,G,B,J,H,_,q,K,Q,X,Z,$,ee,ae,te,ne,oe,le,ie,re,ce,de,se,ue,pe,be,ve,je,ye=x(null===h||void 0===h||null===(d=h.employees[i])||void 0===d?void 0:d._id);(t={}).UAN=null===h||void 0===h||null===(s=h.employees[i])||void 0===s||null===(p=s.companyDetails)||void 0===p?void 0:p.UAN,t.Name=null===h||void 0===h||null===(b=h.employees[i])||void 0===b||null===(v=b.personalDetails)||void 0===v?void 0:v.fullName,t.GrossWages=Math.round((null===h||void 0===h||null===(j=h.employees[i])||void 0===j||null===(y=j.salaryDetails)||void 0===y?void 0:y.basicSalary)*ye.count/l+(null===h||void 0===h||null===(m=h.employees[i])||void 0===m||null===(O=m.salaryDetails)||void 0===O?void 0:O.hra)*ye.count/l+(null===h||void 0===h||null===(f=h.employees[i])||void 0===f||null===(k=f.salaryDetails)||void 0===k?void 0:k.con)*ye.count/l+(null===h||void 0===h||null===(D=h.employees[i])||void 0===D||null===(N=D.salaryDetails)||void 0===N?void 0:N.medical)*ye.count/l+(null===h||void 0===h||null===(S=h.employees[i])||void 0===S||null===(C=S.salaryDetails)||void 0===C?void 0:C.education)*ye.count/l),t.EPFWages=Math.round((null===h||void 0===h||null===(w=h.employees[i])||void 0===w||null===(A=w.salaryDetails)||void 0===A?void 0:A.basicSalary)*ye.count/l),t.EPSWages=Math.round((null===h||void 0===h||null===(E=h.employees[i])||void 0===E||null===(F=E.salaryDetails)||void 0===F?void 0:F.basicSalary)*ye.count/l),t.EDLIWages=Math.round((null===h||void 0===h||null===(P=h.employees[i])||void 0===P||null===(M=P.salaryDetails)||void 0===M?void 0:M.basicSalary)*ye.count/l),t.EPFContribution=Math.round((null===h||void 0===h||null===(W=h.employees[i])||void 0===W||null===(L=W.salaryDetails)||void 0===L?void 0:L.basicSalary)*ye.count/l*12/100),t.EPSContribution=Math.round((null===h||void 0===h||null===(I=h.employees[i])||void 0===I||null===(R=I.salaryDetails)||void 0===R?void 0:R.basicSalary)*ye.count/l*8.33/100),t.EPFEPSDIFF=Math.round((null===h||void 0===h||null===(U=h.employees[i])||void 0===U||null===(z=U.salaryDetails)||void 0===z?void 0:z.basicSalary)*ye.count/l*12/100)-Math.round((null===h||void 0===h||null===(T=h.employees[i])||void 0===T||null===(Y=T.salaryDetails)||void 0===Y?void 0:Y.basicSalary)*ye.count/l*8.33/100),t.NCPDAYS=l-(ye.count?ye.count:0),t.REFUNDOFADVANCE=0,o="".concat(o).concat(null===h||void 0===h||null===(V=h.employees[i])||void 0===V||null===(G=V.companyDetails)||void 0===G?void 0:G.UAN,"#~#").concat(null===h||void 0===h||null===(B=h.employees[i])||void 0===B||null===(J=B.personalDetails)||void 0===J?void 0:J.fullName.replace(/ /g,""),"#~#").concat(Math.round((null===h||void 0===h||null===(H=h.employees[i])||void 0===H||null===(_=H.salaryDetails)||void 0===_?void 0:_.basicSalary)*ye.count/l+(null===h||void 0===h||null===(q=h.employees[i])||void 0===q||null===(K=q.salaryDetails)||void 0===K?void 0:K.hra)*ye.count/l+(null===h||void 0===h||null===(Q=h.employees[i])||void 0===Q||null===(X=Q.salaryDetails)||void 0===X?void 0:X.con)*ye.count/l+(null===h||void 0===h||null===(Z=h.employees[i])||void 0===Z||null===($=Z.salaryDetails)||void 0===$?void 0:$.medical)*ye.count/l+(null===h||void 0===h||null===(ee=h.employees[i])||void 0===ee||null===(ae=ee.salaryDetails)||void 0===ae?void 0:ae.education)*ye.count/l),"#~#").concat(Math.round((null===h||void 0===h||null===(te=h.employees[i])||void 0===te||null===(ne=te.salaryDetails)||void 0===ne?void 0:ne.basicSalary)*ye.count/l),"#~#").concat(Math.round((null===h||void 0===h||null===(oe=h.employees[i])||void 0===oe||null===(le=oe.salaryDetails)||void 0===le?void 0:le.basicSalary)*ye.count/l),"#~#").concat(Math.round((null===h||void 0===h||null===(ie=h.employees[i])||void 0===ie||null===(re=ie.salaryDetails)||void 0===re?void 0:re.basicSalary)*ye.count/l),"#~#").concat(Math.round((null===h||void 0===h||null===(ce=h.employees[i])||void 0===ce||null===(de=ce.salaryDetails)||void 0===de?void 0:de.basicSalary)*ye.count/l*12/100),"#~#").concat(Math.round((null===h||void 0===h||null===(se=h.employees[i])||void 0===se||null===(ue=se.salaryDetails)||void 0===ue?void 0:ue.basicSalary)*ye.count/l*8.33/100),"#~#").concat(Math.round((null===h||void 0===h||null===(pe=h.employees[i])||void 0===pe||null===(be=pe.salaryDetails)||void 0===be?void 0:be.basicSalary)*ye.count/l*12/100)-Math.round((null===h||void 0===h||null===(ve=h.employees[i])||void 0===ve||null===(je=ve.salaryDetails)||void 0===je?void 0:je.basicSalary)*ye.count/l*8.33/100),"#~#").concat(l-(ye.count?ye.count:0),"#~#",0,"\n"),n.push(t)}u(o),r(n)}}),[h]),console.log(n),Object(C.jsx)("div",{children:Object(C.jsx)(T.a,{filename:"ECR Challan ".concat(g.getMonth()+1),extension:".csv",columns:[{id:"UAN",displayName:"UAN"},{id:"Name",displayName:"Name"},{id:"GrossWages",displayName:"Gross Wages"},{id:"EPFWages",displayName:"EPF Wages"},{id:"EPSWages",displayName:"EPS Wages"},{id:"EDLIWages",displayName:"EDLI Wages"},{id:"EPFContribution",displayName:"EPF Contribution"},{id:"EPSContribution",displayName:"EPS Contribution"},{id:"EPFEPSDIFF",displayName:"EPF EPS DIFF"},{id:"NCPDAYS",displayName:"NCP DAYS"},{id:"REFUNDOFADVANCE",displayName:"REFUND OF ADVANCE"}],datas:n,children:Object(C.jsxs)("button",{type:"button",className:"gray-button",onClick:function(){!function(e){var a=document.createElement("a"),t=new Blob([e],{type:"text/plain"});a.href=URL.createObjectURL(t),a.download="ECR Challan ".concat(g.getMonth()+1,".txt"),document.body.appendChild(a),a.click()}(s)},children:[Object(C.jsx)(z.a,{}),"ECR Challan"]})})})}function H(e){var a=e.parentCallback;return Object(C.jsx)("div",{children:Object(C.jsxs)("button",{type:"button",className:"gray-button",onClick:a,children:[Object(C.jsx)(z.a,{}),"Bank Statement"]})})}function _(e){var a=e.parentCallback3;return Object(C.jsx)("div",{children:Object(C.jsxs)("button",{type:"button",className:"gray-button",onClick:a,children:[Object(C.jsx)(z.a,{}),"Monthly Salary Sheet"]})})}var q=t(518),K=t(605),Q=t(608),X=t(606),Z=t(607),$=t(568);function ee(e){var a=e.name,t=e.date,i=e.csv,u=e.salary,p=e.parentCallback,b=e.csvpage,v=e.parentCallback2,j=e.parentCallback3,y=e.isshow,h=e.today,m=e.salaryformat,O=e.search,f=e.csvdata,g=l.useState(new Date),x=Object(o.a)(g,2),k=x[0],D=x[1],N=l.useState(!1),S=Object(o.a)(N,2),w=S[0],A=S[1],E=l.useState(!1),F=Object(o.a)(E,2),U=F[0],z=F[1],T=function(){A(!1)},Y=function(e){D(e),A(!0)};return Object(C.jsxs)(M.a,{component:s.a,sx:{marginTop:-4},children:[Object(C.jsx)(r.a,{sx:{minWidth:650},"aria-label":"simple table",children:Object(C.jsx)(c.a,{children:Object(C.jsxs)(d.a,{children:[Object(C.jsx)(M.e,{align:"left",children:Object(C.jsx)("h2",{style:{fontWeight:600,fontFamily:"Poppins",fontSize:"22px"},children:a})}),"true"===O&&Object(C.jsx)(M.e,{align:"center",children:Object(C.jsx)(P,{})}),"true"===t&&Object(C.jsx)(M.e,{align:"center",children:Object(C.jsx)(I.b,{dateAdapter:R.a,children:1===y?Object(C.jsx)(L.a,{label:"Select Date",inputFormat:"MM/dd/yyyy",value:k,disabled:U,onChange:Y,renderInput:function(e){return Object(C.jsx)(W.a,Object(n.a)({},e))}}):Object(C.jsx)(L.a,{label:"Select Date",inputFormat:"MM/dd/yyyy",value:k,onChange:Y,renderInput:function(e){return Object(C.jsx)(W.a,Object(n.a)({},e))}})})}),"true"===m&&Object(C.jsx)(M.e,{align:"center",children:Object(C.jsx)(_,{parentCallback3:j})}),"true"===u&&Object(C.jsx)(M.e,{align:"center",children:Object(C.jsx)(H,{parentCallback:p})}),"true"===i&&Object(C.jsx)(M.e,{align:"center",children:Object(C.jsx)(J,{tempdate:k,data:f,page:b})}),"true"===h&&Object(C.jsx)(M.e,{align:"center",children:Object(C.jsx)("button",{type:"button",className:"gray-button",onClick:function(){v(k,!0),z(!0)},children:"Today"})})]})})}),Object(C.jsxs)(K.a,{open:w,keepMounted:!0,onClose:T,"aria-describedby":"alert-dialog-slide-description",children:[Object(C.jsx)($.a,{children:"Confirm"}),Object(C.jsx)(X.a,{children:Object(C.jsx)(Z.a,{id:"alert-dialog-slide-description",children:"Are you confirm that you want to select this date?"})}),Object(C.jsxs)(Q.a,{children:[Object(C.jsx)(q.a,{onClick:function(){v(k,!1),T(),z(!0)},children:"Yes"}),Object(C.jsx)(q.a,{onClick:T,children:"No"})]})]})]})}},442:function(e,a,t){}}]);
//# sourceMappingURL=2.70f64b40.chunk.js.map