(this["webpackJsonpeasy-hr"]=this["webpackJsonpeasy-hr"]||[]).push([[15],{447:function(e,t,l){},448:function(e,t,l){"use strict";var n=l(84);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(l(85)),a=l(1),o=(0,i.default)((0,a.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");t.default=o},610:function(e,t,l){"use strict";l.r(t);var n=l(5),i=l(15),a=l(0),o=l.n(a),d=l(518),c=l(60),s=l(589),r=l(582),u=l(609),v=l(603),j=l(604),p=l(600),h=l(27),b=l.n(h),g=l(26),m=l(124),y=(l(447),l(1));function O(e,t,l){for(var n=0,i=e.length;n<i;n+=1)if(e[n][l]===t)return n;return-1}function f(e){var t=e.data,l=e.date,n=e.page,o=e.disabled,d=(e.largest,e.index),c=e.selecttoday,s=a.useState(!0),r=Object(i.a)(s,2),u=r[0],v=r[1],j=a.useState(""),p=Object(i.a)(j,2),h=p[0],f=p[1],x=Object(g.b)();a.useEffect((function(){b.a.get("http://localhost:4000/api/v1/employee/attendance/mylist/".concat((null===l||void 0===l?void 0:l.getMonth())+1,"/").concat(null===l||void 0===l?void 0:l.getFullYear(),"/").concat(null===t||void 0===t?void 0:t._id),{withCredentials:!0}).then((function(e){var n,i,a,d,c,s;if(console.log(e.data.employeesAttendance),!1===o&&void 0!==e.data.employeesAttendance&&e.data.employeesAttendance.length>0)O(e.data.employeesAttendance[0].employeeAttendance,null===l||void 0===l?void 0:l.getDate(),"date")>-1&&O(e.data.employeesAttendance[0].employeeAttendance,!0,"attendance")>-1&&v(!0),O(e.data.employeesAttendance[0].employeeAttendance,null===l||void 0===l?void 0:l.getDate(),"date")>-1&&O(e.data.employeesAttendance[0].employeeAttendance,!1,"attendance")>-1?(v(!1),f()):x(Object(m.a)({UAN:null===t||void 0===t||null===(n=t.companyDetails)||void 0===n?void 0:n.UAN,fullName:null===t||void 0===t||null===(i=t.personalDetails)||void 0===i?void 0:i.fullName,mobileNo:null===t||void 0===t||null===(a=t.personalDetails)||void 0===a?void 0:a.mobileNo,joiningDate:null===t||void 0===t||null===(d=t.companyDetails)||void 0===d?void 0:d.joiningDate,designation:null===t||void 0===t||null===(c=t.companyDetails)||void 0===c?void 0:c.designation,dailyWages:null===t||void 0===t||null===(s=t.companyDetails)||void 0===s?void 0:s.dailyWages,employeeAttendance:{date:null===l||void 0===l?void 0:l.getDate(),attendance:!0},attendanceMonth:(null===l||void 0===l?void 0:l.getMonth())+1,attendanceYear:null===l||void 0===l?void 0:l.getFullYear(),employee:null===t||void 0===t?void 0:t._id}));else if(!1===o){var r,u,j,p,h,b;x(Object(m.a)({UAN:null===t||void 0===t||null===(r=t.companyDetails)||void 0===r?void 0:r.UAN,fullName:null===t||void 0===t||null===(u=t.personalDetails)||void 0===u?void 0:u.fullName,mobileNo:null===t||void 0===t||null===(j=t.personalDetails)||void 0===j?void 0:j.mobileNo,joiningDate:null===t||void 0===t||null===(p=t.companyDetails)||void 0===p?void 0:p.joiningDate,designation:null===t||void 0===t||null===(h=t.companyDetails)||void 0===h?void 0:h.designation,dailyWages:null===t||void 0===t||null===(b=t.companyDetails)||void 0===b?void 0:b.dailyWages,employeeAttendance:{date:null===l||void 0===l?void 0:l.getDate(),attendance:!0},attendanceMonth:(null===l||void 0===l?void 0:l.getMonth())+1,attendanceYear:null===l||void 0===l?void 0:l.getFullYear(),employee:null===t||void 0===t?void 0:t._id}))}}))}),[l,n,o,c]);return console.log(h),Object(y.jsxs)("span",{children:[!1===u&&Object(y.jsxs)("select",{style:{padding:"10px 20px",marginRight:"10px",marginBottom:"10px"},onBlur:function(e){var n,i,a,o,d,c;x(Object(m.a)({UAN:null===t||void 0===t||null===(n=t.companyDetails)||void 0===n?void 0:n.UAN,fullName:null===t||void 0===t||null===(i=t.personalDetails)||void 0===i?void 0:i.fullName,mobileNo:null===t||void 0===t||null===(a=t.personalDetails)||void 0===a?void 0:a.mobileNo,joiningDate:null===t||void 0===t||null===(o=t.companyDetails)||void 0===o?void 0:o.joiningDate,designation:null===t||void 0===t||null===(d=t.companyDetails)||void 0===d?void 0:d.designation,dailyWages:null===t||void 0===t||null===(c=t.companyDetails)||void 0===c?void 0:c.dailyWages,employeeAttendance:{date:null===l||void 0===l?void 0:l.getDate(),attendance:u,leave:e.target.value},attendanceMonth:(null===l||void 0===l?void 0:l.getMonth())+1,attendanceYear:null===l||void 0===l?void 0:l.getFullYear(),employee:null===t||void 0===t?void 0:t._id})),f(e.target.value)},children:[Object(y.jsx)("option",{value:"",children:"Choose Leave"}),Object(y.jsx)("option",{value:"Paid Leave",children:"Paid Leave"}),Object(y.jsx)("option",{value:"Casual Leave",children:"Casual Leave"}),Object(y.jsx)("option",{value:"Sick Leave",children:"Sick Leave"}),Object(y.jsx)("option",{value:"Paid Holiday",children:"Paid Holiday"}),Object(y.jsx)("option",{value:"Paid Weekly Off",children:"Paid Weekly Off"}),Object(y.jsx)("option",{value:"Unpaid Weekly Off",children:"Unpaid Weekly Off"}),Object(y.jsx)("option",{value:"Leave with Permission",children:"Leave with Permission"}),Object(y.jsx)("option",{value:"Leave without Permission",children:"Leave without Permission"})]}),Object(y.jsxs)("label",{className:"switch",htmlFor:"x".concat(d),children:[Object(y.jsx)("input",{type:"checkbox",checked:u,onChange:function(e){var n,i,a,o,d,c;x(Object(m.a)({UAN:null===t||void 0===t||null===(n=t.companyDetails)||void 0===n?void 0:n.UAN,fullName:null===t||void 0===t||null===(i=t.personalDetails)||void 0===i?void 0:i.fullName,mobileNo:null===t||void 0===t||null===(a=t.personalDetails)||void 0===a?void 0:a.mobileNo,joiningDate:null===t||void 0===t||null===(o=t.companyDetails)||void 0===o?void 0:o.joiningDate,designation:null===t||void 0===t||null===(d=t.companyDetails)||void 0===d?void 0:d.designation,dailyWages:null===t||void 0===t||null===(c=t.companyDetails)||void 0===c?void 0:c.dailyWages,employeeAttendance:{date:null===l||void 0===l?void 0:l.getDate(),attendance:e.target.checked},attendanceMonth:(null===l||void 0===l?void 0:l.getMonth())+1,attendanceYear:null===l||void 0===l?void 0:l.getFullYear(),employee:null===t||void 0===t?void 0:t._id})),v(e.target.checked)},disabled:o,id:"x".concat(d)}),Object(y.jsx)("span",{className:"slider round"})]})]})}var x=l(316),D=l(312),N=l(581),A=l(305),w=l(304),C=l(86),k=l(448),S=l.n(k),W=l(9),U=Object(W.a)(d.a)((function(e){e.theme;return{background:"#009FBE",color:"white",borderRadius:"35px",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",height:"50px",width:"220px",top:"-6px"}}));t.default=function(){var e,t=Object(g.b)(),l=Object(a.useState)(1),d=Object(i.a)(l,2),h=d[0],m=d[1],O=Object(a.useState)(!0),k=Object(i.a)(O,2),W=k[0],M=k[1],_=Object(g.c)((function(e){return e.myEmployee})),F=_.error,P=_.orders,L=Object(a.useState)(new Date),z=Object(i.a)(L,2),Y=z[0],E=z[1],R=Object(a.useState)(0),H=Object(i.a)(R,2),B=H[0],J=H[1],I=Object(a.useState)(!1),T=Object(i.a)(I,2),V=T[0],q=T[1];console.log(P);var G=Object(a.useState)("success"),K=Object(i.a)(G,2),Q=K[0],X=K[1],Z=Object(a.useState)("Successfully Added!"),$=Object(i.a)(Z,2),ee=$[0],te=$[1],le=o.a.useState({open:!1,vertical:"top",horizontal:"center"}),ne=Object(i.a)(le,2),ie=ne[0],ae=ne[1],oe=ie.vertical,de=ie.horizontal,ce=ie.open,se=function(){ae(Object(n.a)(Object(n.a)({},ie),{},{open:!1}))},re=Object(a.useState)(null),ue=Object(i.a)(re,2),ve=ue[0],je=ue[1];Object(a.useEffect)((function(){t(Object(A.d)(h)),F&&(console.log(F),t(Object(C.b)()))}),[t,h]);return Object(y.jsxs)(D.b,{children:[Object(y.jsx)(x.a,{name:"Add Attendance",search:"true",date:"true",filter:"true",today:"true",isshow:1,parentCallback2:function(e,t){M(!1),E(e),q(t)}}),Object(y.jsx)("hr",{style:{color:"white"}}),Object(y.jsxs)("div",{style:{float:"right"},children:[Object(y.jsxs)("label",{htmlFor:"form_input",className:"form_label",style:{background:"#1dd1a1",borderRadius:"35px",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",height:"50px",width:"220px",marginRight:"10px"},children:[Object(y.jsx)("input",{type:"file",onChange:function(e){je(e.target.files[0])},id:"form_input",className:"form_input",style:{width:"10px",height:"10px",opacity:0,visibility:"hidden"}}),Object(y.jsx)(S.a,{className:"form_icon",style:{marginRight:"5px",color:"white"}}),Object(y.jsx)("span",{className:"form_text",style:{fontWeight:600,fontSize:"18px",color:"#fff"},children:"Choose a CSV File"})]}),Object(y.jsx)(U,{onClick:function(){var e=new FormData;e.append("file",ve);console.log(ve),b.a.post("https://veryeasyhr.herokuapp.com/api/v1/employee/attendance/csv",e,{headers:{"Content-Type":"multipart/form-data",withCredentials:!0}}).then((function(e){console.log(e),te("File upload successfully!"),X("success"),ae(Object(n.a)({open:!0},{vertical:"top",horizontal:"right"}))})).catch((function(e){console.log(e),te("Error!"),X("error"),ae(Object(n.a)({open:!0},{vertical:"top",horizontal:"right"}))}))},type:"submit",children:"Upload!"})]}),Object(y.jsx)(c.a,{variant:"body2",children:Object(y.jsxs)(D.a,{children:[Object(y.jsxs)(D.d,{sx:{minWidth:650},"aria-label":"customized table",children:[Object(y.jsx)(j.a,{children:Object(y.jsxs)(p.a,{children:[Object(y.jsx)(D.e,{align:"center",children:"Sr No."}),Object(y.jsx)(D.e,{align:"center",children:"UAN No."}),Object(y.jsx)(D.e,{align:"center",children:"Name"}),Object(y.jsx)(D.e,{align:"center",children:"Joining Date"}),Object(y.jsx)(D.e,{align:"center",children:"Phone No"}),Object(y.jsx)(D.e,{align:"center",children:"Designation"}),Object(y.jsx)(D.e,{align:"center",children:"Mode of wages"}),Object(y.jsx)(D.e,{align:"center",children:"Attendance"})]})}),Object(y.jsx)(u.a,{children:null===P||void 0===P||null===(e=P.employees)||void 0===e?void 0:e.map((function(e,t){var l,n,i,a,o,d;return Object(y.jsxs)(D.f,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(y.jsx)(v.a,{align:"center",component:"th",scope:"row",children:10*(h-1)+t+1}),Object(y.jsx)(v.a,{align:"center",children:null===e||void 0===e||null===(l=e.companyDetails)||void 0===l?void 0:l.UAN}),Object(y.jsx)(v.a,{align:"center",children:null===e||void 0===e||null===(n=e.personalDetails)||void 0===n?void 0:n.fullName}),Object(y.jsx)(v.a,{align:"center",children:Object(w.a)(null===e||void 0===e||null===(i=e.companyDetails)||void 0===i?void 0:i.joiningDate)}),Object(y.jsx)(v.a,{align:"center",children:null===e||void 0===e||null===(a=e.personalDetails)||void 0===a?void 0:a.mobileNo}),Object(y.jsx)(v.a,{align:"center",children:null===e||void 0===e||null===(o=e.companyDetails)||void 0===o?void 0:o.designation}),Object(y.jsx)(v.a,{align:"center",children:null===e||void 0===e||null===(d=e.companyDetails)||void 0===d?void 0:d.selectWages}),Object(y.jsx)(v.a,{align:"center",children:Object(y.jsx)(f,{disabled:W,data:e,largest:B,page:h,date:Y,index:t,selectToday:V})})]},10*(h-1)+t+1)}))})]}),Object(y.jsx)(N.a,{count:Math.floor((null===P||void 0===P?void 0:P.employeeCount)/10)+1,color:"primary",style:{float:"right"},page:h,onChange:function(e,t){t>B&&J(t),m(t)}})]})}),Object(y.jsx)(s.a,{anchorOrigin:{vertical:oe,horizontal:de},open:ce,onClose:se,autoHideDuration:3e3,children:Object(y.jsx)(r.a,{onClose:se,severity:Q,sx:{width:"100%"},children:ee})},oe+de)]})}}}]);
//# sourceMappingURL=15.562f1265.chunk.js.map